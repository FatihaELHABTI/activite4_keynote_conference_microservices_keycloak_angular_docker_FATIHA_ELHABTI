<div class="container" style="padding: 20px; font-family: Arial, sans-serif;">
  <h2>Gestion des Conférences</h2>

  <!-- Message d'erreur s'il y en a un -->
  <div *ngIf="errorMessage" style="background-color: #ffcccc; color: red; padding: 10px; margin-bottom: 10px; border: 1px solid red;">
    {{ errorMessage }}
  </div>

  <table border="1" style="width: 100%; border-collapse: collapse; text-align: left;">
    <thead>
    <tr style="background-color: #333; color: white;">
      <th style="padding: 8px;">ID</th>
      <th style="padding: 8px;">Titre</th>
      <th style="padding: 8px;">Type</th>
      <th style="padding: 8px;">Date</th>
      <th style="padding: 8px;">Score</th>
      <th style="padding: 8px;">Speaker (Keynote)</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let c of conferences">
      <td style="padding: 8px;">{{ c.id }}</td>
      <td style="padding: 8px; font-weight: bold;">{{ c.titre }}</td>
      <td style="padding: 8px;">
            <span [style.color]="c.type === 'Academique' ? 'blue' : 'green'">
                {{ c.type }}
            </span>
      </td>
      <td style="padding: 8px;">{{ c.date | date:'dd/MM/yyyy' }}</td>
      <td style="padding: 8px;">{{ c.score }} / 5</td>
      <td style="padding: 8px;">
        <!-- Utilisation du Safe Navigation Operator (?) pour éviter le crash si keynote est null -->
        <div *ngIf="c.keynote; else noKeynote">
          <strong>{{ c.keynote.prenom }} {{ c.keynote.nom }}</strong><br>
          <small>{{ c.keynote.fonction }}</small>
        </div>
        <ng-template #noKeynote>
          <span style="color: orange; font-style: italic;">⚠ Service indisponible</span>
        </ng-template>
      </td>
    </tr>
    </tbody>
  </table>
</div>
